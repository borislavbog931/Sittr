{% extends "common/base.html" %}

{% block title %}Hire request | Sittr{% endblock %}

{% block page_header %}
  <div class="sittr-page-header">
    <h1 class="h3 mb-1">Hire request</h1>
    <div class="text-muted">Request {{ caretaker.name }} in {{ caretaker.city }}</div>
  </div>
{% endblock %}

{% block content %}
  <div class="card sittr-card">
    <div class="card-body p-4 p-md-5">
      <form method="post" class="vstack gap-3">
        {% csrf_token %}

        {{ form.non_field_errors }}
        
        <div>
            <label class="form-label">{{ form.caretaker_display.label }}</label>
            {{ form.caretaker_display }}
        </div>  
          
        <div>
          <label class="form-label">Your name</label>
          {{ form.client_name }}
          <div class="text-danger small">{{ form.client_name.errors }}</div>
        </div>

        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Email</label>
            {{ form.client_email }}
            <div class="text-danger small">{{ form.client_email.errors }}</div>
          </div>
          <div class="col-md-6">
            <label class="form-label">Phone</label>
            {{ form.client_phone }}
            <div class="text-danger small">{{ form.client_phone.errors }}</div>
          </div>
        </div>

        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Pet type</label>
            {{ form.pet_type }}
            <div class="text-danger small">{{ form.pet_type.errors }}</div>
          </div>
          <div class="col-md-6">
            <label class="form-label">Service</label>
            {{ form.service }}
            <div class="text-danger small">{{ form.service.errors }}</div>
          </div>
        </div>

        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Start date</label>
            {{ form.start_date }}
            <div class="text-danger small">{{ form.start_date.errors }}</div>
          </div>
          <div class="col-md-6">
            <label class="form-label">End date</label>
            {{ form.end_date }}
            <div class="text-danger small">{{ form.end_date.errors }}</div>
          </div>
        </div>

        <div>
          <label class="form-label">Notes</label>
          {{ form.notes }}
          <div class="text-danger small">{{ form.notes.errors }}</div>
        </div>

        <div class="d-flex gap-2">
          <button class="btn btn-sittr" type="submit">
            <i class="bi bi-check2-circle me-2"></i> Submit request
          </button>
          <a class="btn btn-outline-secondary" href="{% url 'caretaker_detail' caretaker.slug %}">
            Cancel
          </a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
