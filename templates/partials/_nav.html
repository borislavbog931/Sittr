{% load static %}
{% with url_name=request.resolver_match.url_name %}
<a href="{% url 'home' %}" class="flex items-center gap-3 text-decoration-none">
  <div class="h-12 w-12 rounded-2xl bg-white/90 text-teal-700 flex items-center justify-center shadow">
    <img
      src="{% static 'images/logo.png' %}"
      alt="Sittr"
      class="h-12 w-12 rounded-xl object-cover"
    />
  </div>

  <div class="leading-tight">
    <div class="font-semibold text-white">Sittr</div>
    <div class="text-xs text-white/70">Caretakers you can trust</div>
  </div>
</a>

<div class="my-5 h-px bg-white/10"></div>

<nav class="space-y-1 text-sm">
  <a class="flex items-center gap-3 rounded-xl px-3 py-2 transition
            {% if url_name == 'home' %}bg-white/15 text-white{% else %}text-white/80 hover:bg-white/10 hover:text-white{% endif %}"
     href="{% url 'home' %}">
    <i class="bi bi-house-door"></i> Home
  </a>

  <a class="flex items-center gap-3 rounded-xl px-3 py-2 transition
            {% if url_name == 'about' %}bg-white/15 text-white{% else %}text-white/80 hover:bg-white/10 hover:text-white{% endif %}"
     href="{% url 'about' %}">
    <i class="bi bi-info-circle"></i> About
  </a>

  <div class="pt-4 text-xs uppercase tracking-[0.2em] text-white/50">Browse</div>

  {# CARETAKERS DROPDOWN (click) #}
  <div class="dropdown">
    <button
      type="button"
      class="w-100 text-start flex items-center justify-between gap-3 rounded-xl px-3 py-2 transition border-0 bg-transparent
             {% if url_name == 'caretaker_list' or url_name == 'caretaker_detail' or url_name == 'caretaker_create' %}
               bg-white/15 text-white
             {% else %}
               text-white/80 hover:bg-white/10 hover:text-white
             {% endif %}"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      <span class="flex items-center gap-3">
        <i class="bi bi-people"></i> Caretakers
      </span>
      <i class="bi bi-chevron-down text-xs opacity-75"></i>
    </button>

    <ul class="dropdown-menu w-100 rounded-2xl border border-white/10 bg-[#121238] shadow-lg p-1">
      <li>
        <a class="dropdown-item rounded-xl px-3 py-2 text-white/80 hover:bg-white/10 hover:text-white transition"
           href="{% url 'caretaker_list' %}">
          <i class="bi bi-list me-2"></i> All caretakers
        </a>
      </li>
      <li>
        <a class="dropdown-item rounded-xl px-3 py-2 text-white/80 hover:bg-white/10 hover:text-white transition"
           href="{% url 'caretaker_create' %}">
          <i class="bi bi-plus-circle me-2"></i> Add caretaker
        </a>
      </li>
    </ul>
  </div>

  <a class="flex items-center gap-3 rounded-xl px-3 py-2 transition
            {% if url_name == 'service_list' or url_name == 'service_detail' or url_name == 'service_create' or url_name == 'service_edit' or url_name == 'service_delete' %}
              bg-white/15 text-white
            {% else %}
              text-white/80 hover:bg-white/10 hover:text-white
            {% endif %}"
     href="{% url 'service_list' %}">
    <i class="bi bi-briefcase"></i> Services
  </a>

  <a class="flex items-center gap-3 rounded-xl px-3 py-2 transition
            {% if url_name == 'hire_request_list' or url_name == 'hire_request_detail' or url_name == 'hire_request_create' %}
              bg-white/15 text-white
            {% else %}
              text-white/80 hover:bg-white/10 hover:text-white
            {% endif %}"
     href="{% url 'hire_request_list' %}">
    <i class="bi bi-envelope-paper"></i> Requests
  </a>

  <a class="flex items-center gap-3 rounded-xl px-3 py-2 transition
            {% if url_name == 'review_list' or url_name == 'review_detail' or url_name == 'review_create' %}
              bg-white/15 text-white
            {% else %}
              text-white/80 hover:bg-white/10 hover:text-white
            {% endif %}"
     href="{% url 'review_list' %}">
    <i class="bi bi-star"></i> Reviews
  </a>
</nav>

<div class="my-5 h-px bg-white/10"></div>

<div class="rounded-2xl bg-white/10 p-4 text-sm">
  <div class="font-semibold text-white"><i class="bi bi-lightbulb"></i> Tip</div>
  <div class="mt-2 text-white/70">
    Start with <span class="text-white">Caretakers</span>, then filter by service, pet type and price.
  </div>
</div>
{% endwith %}
